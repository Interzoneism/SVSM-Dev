<Window x:Class="VintageStoryModManager.Views.Dialogs.SelectConfigFileDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Config File"
        SizeToContent="WidthAndHeight"
        MinWidth="400"
        MinHeight="260"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="SingleBorderWindow"
        ShowInTaskbar="False"
        Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}">
    <Border Padding="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <TextBlock x:Name="MessageTextBlock"
                       TextWrapping="Wrap"
                       Margin="0,0,0,16"
                       MaxWidth="500"
                       FontSize="14" />

            <ListBox x:Name="ConfigFilesListBox"
                     Grid.Row="1"
                     ItemsSource="{Binding Options}"
                     DisplayMemberPath="FileName"
                     SelectedIndex="0"
                     BorderThickness="1"
                     MinWidth="360"
                     MaxHeight="220"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     MouseDoubleClick="ConfigFilesListBox_OnMouseDoubleClick">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Margin="0,6,0,6">
                            <TextBlock Text="{Binding FileName}" FontWeight="SemiBold" />
                            <TextBlock Text="{Binding Directory}" FontSize="12" Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,16,0,0">
                <Button Content="Browse..."
                        Width="90"
                        Margin="0,0,12,0"
                        Click="OnBrowseClick" />
                <Button Content="Edit"
                        Width="90"
                        Margin="0,0,12,0"
                        IsDefault="True"
                        Click="OnEditClick" />
                <Button Content="Cancel"
                        Width="90"
                        IsCancel="True" />
            </StackPanel>
        </Grid>
    </Border>
</Window>
